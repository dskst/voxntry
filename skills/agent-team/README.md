# Agent Team Skill

エージェントチームを使って複雑なタスクを協調的に実行するClaudeスキルです。

## 特徴

- **ロールベースのタスク割り当て**: タスクに応じて適切な専門家ロールを選択
- **デビルズ・アドボケート必須**: すべてのタスクで批判的視点を確保し、品質を向上
- **チームナレッジの蓄積**: 実行結果から学習し、次回以降の実行に活用
- **Git管理から除外**: チームナレッジはローカル環境のみに保存

## 使い方

```
/agent-team
```

または

```
/agent-team [タスクの説明]
```

## 利用可能なロール

### 実行系ロール

- **architect** (システムアーキテクト): 全体設計と技術的意思決定
- **reviewer** (コードレビュアー): コード品質チェックと改善提案
- **tester** (テスト担当): テスト設計と実行
- **data-engineer** (データエンジニア): データエンジニアリングとデータ分析
- **devops** (DevOpsエンジニア): デプロイとインフラ管理
- **frontend** (フロントエンドエンジニア): フロントエンド開発
- **backend** (バックエンドエンジニア): バックエンド開発
- **mobile** (モバイルエンジニア): モバイルアプリ開発
- **ui/ux** (UI/UXデザイナー): UI/UXデザイン
- **cloud-engineer** (クラウドエンジニア): クラウド環境の構築と管理
- **business-analyst** (ビジネスアナリスト): ビジネス分析
- **marketing** (マーケティング担当): マーケティング戦略と実施
- **security** (セキュリティ専門家): セキュリティ脆弱性の特定と対策
- **documenter** (ドキュメント担当): ドキュメント作成と維持

### 必須品質保証ロール

- **devils-advocate** (デビルズ・アドボケート): **全タスクで必須**
  - 仮定や決定に対する批判的検証
  - 潜在的な問題とリスクの特定
  - 代替案の提案
  - "なぜ？" "もし〜だったら？" の質問

## タスク別の推奨ロール構成

### 機能実装
- architect, implementer, reviewer, tester, devils-advocate

### セキュリティ関連
- security, implementer, reviewer, devils-advocate

### リファクタリング
- architect, implementer, reviewer, devils-advocate

### ドキュメント作成
- documenter, reviewer, devils-advocate

### バグ修正
- implementer, tester, reviewer, devils-advocate

## 実行フロー

1. **チームナレッジの読み込み**: 過去のセッションから学習
2. **タスク分析とロール選択**: タスクに最適なロールを選択
3. **チーム作成**: TeamCreateでチームを構築
4. **タスク分解**: TaskCreateで作業項目を作成
5. **チームメイト起動**: 各ロールのエージェントを起動
6. **協調実行**: タスクの割り当てと進捗管理
7. **学習の記録**: 成功要因と改善点を記録
8. **チーム終了**: 全タスク完了後にクリーンアップ
9. **サマリー提示**: ユーザーに結果を報告

## チームナレッジ

実行から学んだ知見は `skills/agent-team/team-knowledge/accumulated-knowledge.md` に蓄積されます。

### 記録される内容

- **うまくいったこと**: 成功要因と効果的なアプローチ
- **改善できること**: 発見した課題とより良い代替案
- **重要な洞察**: 技術的洞察とプロセス改善
- **デビルズ・アドボケートの貢献**: 特定された問題と改善された結果

## 例

```
User: "JWT認証を実装してください"

実行:
1. 過去の認証実装の知見を読み込み
2. ロール選択: architect, implementer, security, tester, devils-advocate
3. チーム "task-auth-jwt" を作成
4. タスク作成:
   - 認証アーキテクチャの設計
   - JWT生成と検証の実装
   - セキュリティミドルウェアの追加
   - 認証テストの作成
   - セキュリティ脆弱性のレビュー
5. チームメイト起動 (5名)
6. 協調実行:
   - アーキテクトが設計
   - 実装者がコード作成
   - セキュリティ専門家が脆弱性チェック
   - テスターがテストカバレッジ追加
   - デビルズ・アドボケートが決定に異議を唱え問題を特定
7. 学習記録:
   - JWTベストプラクティス
   - 効果的なセキュリティパターン
   - デビルズ・アドボケートが発見したエッジケース
8. チーム終了
9. ユーザーにサマリー提示
```

## トラブルシューティング

- **チームメイトが応答しない**: 未完了タスクでブロックされていないか確認
- **デビルズ・アドボケートが消極的**: 直接メッセージを送り批判的レビューを依頼
- **タスクの競合**: SendMessageでチームメイト間の議論を促進
- **ナレッジファイルが見つからない**: 初回セッションでは自動作成されます

## ファイル構造

```
skills/agent-team/
├── SKILL.md              # スキル定義
├── README.md             # このファイル
├── .gitignore            # team-knowledgeをgit管理から除外
└── team-knowledge/       # チームナレッジ (Git管理外)
    └── accumulated-knowledge.md  # 蓄積された学習データ
```
